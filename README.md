### 问题：

- 1、输入 transformer 的数据维度长度不是确定的怎么办
- 2、这个数据长度多少去除好:

  目前选的是插值后的数据小于 30min 的轨迹直接删除(discrete 为 10 的情况下)

- 3、注意静止!

  x 方向极差<0.05 且 y 方向极差<0.05 的视为静止

- 4、数据异常点如何去除

  小于相邻十秒小于 0.01 的如何删除即可

- 5、插值间隔太大不准确问题:

  大于 30min 的拆成两段,小于 30min 的直接进行插值

- 6、在 social-stgcnn 中在 seq_len 个帧中很少有都出现 seq_len 帧的船,导致很多船都被抛弃了,基本是 15:1
- 7、删除<5 的轨迹会不会影响很大:
- 8、中间的船被忽略了,要不要考虑
- 9、相邻距离多少才有联系(目前定的是 10 个单位长度——x、y 都是)
- 10、rotate_shift_batch 函数有什么用

  做了两个变换:旋转(rotate)和零点迁移(zero shift)。——可以去掉

  1. 旋转:所有的船每个 epoch 都旋转随机的角度，但是同一个 epoch 的所有船都是旋转相同的角度$\theta$,可以增加数据的多样性(增强数据的一种方式),但是能不能算作加入噪音增加泛化性就不知道了。
  2. 零点迁移(zero shift):实质是"测量"范围的平移,改变上下限,也即整体平移数据。应该不是用于数据增强，因为不是随机的?

- 11、GM 是怎么使用的
- 12、加入 noise 的作用的什么
- 13、好像不能用 batch?因为要三维信息

### 注:

- 1、这里的输入结构综合考虑了 social-stgcnn 和 STAR 两个,以 STAR 为主为文件的结构，输入代码参考为 social-stgcnn
- 2、STAR 中的 massup_batch 在 getitem 中没有写,并且判断条件做了精简,而且没有处理船过多和船过少的问题(STAR 中的 TODO 重要部分)。
- 3、seq_len 和 max_seqlen 还没有对应过来
- 4、这里没有对 STAR 中的 ifexistobs 进行处理
- 5、skip 为 10(表示一秒间隔一帧),同时这里 max_seqlen 取 20,即 20 帧(200s)
- 6、没有处理船过多和过少的操作
- 7、迭代的最后边界条件还没判断
- 8、输入模型的数据还没进行最后的高斯模糊处理等
- 9、后期可以考虑用 LASR 优化器:https://pythonawesome.com/a-lars-implementation-in-pytorch/

### key-work:

1. 完成了不同电脑间的代码协同问题,实验室的电脑也完成了 git 相应的配置修改
2. 调整了 getitem 中的轨迹提取部分,利用了 dataframe 的特性进行改进,同时修改了 STAR 中的一个结束帧的边界问题
3.
